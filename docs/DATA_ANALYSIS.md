# Локальный анализ данных с LLM

## Обзор

Функция позволяет анализировать локальные файлы (CSV, JSON, логи) с помощью Ollama, задавая вопросы на естественном языке.

## Использование

### Примеры запросов

**CSV:**
- "Проанализируй sales.csv и покажи топ-5 продуктов по продажам"
- "Какая средняя цена товаров в категории Electronics?"
- "Сколько всего продаж было 15 января?"

**Логи:**
- "Какая ошибка чаще всего встречается в app.log?"
- "Покажи все TimeoutException за последний час"
- "Сколько WARNING сообщений в логах?"

**JSON:**
- "Какие фичи включены в config.json?"
- "Сколько пользователей используют dark_mode?"

### Как это работает

1. Модель анализирует структуру файла (колонки, типы данных)
2. Генерирует Kotlin-код для ответа на вопрос
3. Выполняет код и форматирует результат

### Ограничения

- Файлы ищутся в рабочей директории проекта
- Для больших файлов (>10MB) читаются первые 1000 строк
- Код выполняется без sandbox (доверяем локальной модели)

## Тестовые данные

В папке `analysis_data/` находятся демо-файлы:
- `sales_demo.csv` — данные о продажах
- `app_errors.log` — логи приложения с ошибками
- `config.json` — конфигурация с фичами

## Поддерживаемые форматы

| Формат | Расширения | Особенности |
|--------|-----------|-------------|
| CSV | .csv | Автоопределение колонок и типов |
| JSON | .json | Анализ структуры объектов/массивов |
| Logs | .log, .txt | Поиск паттернов, подсчёт ошибок |
